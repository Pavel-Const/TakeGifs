(this["webpackJsonptest-for-codemark"]=this["webpackJsonptest-for-codemark"]||[]).push([[0],{11:function(t,e,a){t.exports={Button:"Button_Button__1srBm",load:"Button_load__1ETCv",clear:"Button_clear__2gwHV",group:"Button_group__2jd9t"}},12:function(t,e,a){t.exports={ImageItem:"ImageItem_ImageItem__pqOZl",ImageTwo:"ImageItem_ImageTwo__1Uek9"}},13:function(t,e,a){t.exports={ImageGroup:"ImageGroup_ImageGroup__GZCDg",ImageGrid:"ImageGroup_ImageGrid__3y5cv"}},24:function(t,e,a){t.exports={Form:"Form_Form__3dSal"}},25:function(t,e,a){t.exports={Input:"_1UgJTzFt3gBwtPaVQAUiBS",invalid:"_3TtkaCf3L8tTsQ_UsXGAM1"}},26:function(t,e,a){t.exports={MainBoard:"MainBoard_MainBoard__x9mPd",ImageList:"MainBoard_ImageList__3bof3"}},31:function(t,e,a){},32:function(t,e,a){},53:function(t,e,a){"use strict";a.r(e);var r=a(2),n=a.n(r),s=a(23),i=a.n(s),o=(a(31),a(32),a(7)),c=a.n(o),u=a(14),l=a(9),p=a(3),g=a(4),d=a(6),m=a(5),h=a(10),j=a.n(h),f=a(24),v=a.n(f),b=a(11),O=a.n(b),I=a(0),x=function(t){var e=[O.a.Button,O.a[t.type]];return Object(I.jsx)("button",{onClick:t.onClick,className:e.join(" "),disabled:t.disabled,children:t.children})},k=a(25),_=a.n(k),C=function(t){var e=[_.a.Input];return Object(I.jsxs)("div",{className:e.join(" "),children:[Object(I.jsx)("input",{ref:t.reference,onChange:t.onChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433"}),t.isFormValid?null:Object(I.jsx)("span",{children:t.errorMessageTeg}),t.state.data?null:Object(I.jsx)("span",{children:t.errorMessageData}),t.state.httpError?Object(I.jsx)("span",{children:t.errorMessageHttp}):null]})};var y=function(t){Object(d.a)(a,t);var e=Object(m.a)(a);function a(t){var r;return Object(p.a)(this,a),(r=e.call(this,t)).state={isFormValid:!0,input:{value:"",type:"text",errorMessageTeg:'\u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "\u0442\u0435\u0433" \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b',errorMessageData:"\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",errorMessageHttp:"\u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 http \u043e\u0448\u0438\u0431\u043a\u0430"}},r.clickImage=function(){""!==r.props.state.inputValueClick&&(r.inputRef.value=r.props.state.inputValueClick,console.log(r.state.input.value),r.props.state.inputValueClick="")},r.submitHandler=function(t){t.preventDefault()},r.onChangeHandler=function(t){var e=r.state.input;e.value=t.target.value,r.setState({input:e}),r.validateControl()},r.validateControl=function(){var t;""===r.state.input.value.trim()&&r.setState({isFormValid:!1}),t=r.state.input.value.trim(),/^[a-zA-Z\,^ ]+$/.test(String(t))?r.setState({isFormValid:!0}):r.setState({isFormValid:!1}),r.props.state.data||(r.props.state.data=!0)},r.clickLoad=function(){r.validateControl();setTimeout((function(){!0===r.state.isFormValid&&r.props.loadImages(r.state.input.value)}),0)},r.clickClear=function(){r.props.clearBoard();var t=r.state.input;t.value="",r.setState({input:t}),r.inputRef.value=""},r.inputRef=null,r}return Object(g.a)(a,[{key:"render",value:function(){var t=this;return this.clickImage(),Object(I.jsx)("div",{children:Object(I.jsxs)("form",{className:v.a.Form,onSubmit:this.submitHandler,children:[Object(I.jsx)(C,{reference:function(e){return t.inputRef=e},onChange:function(e){return t.onChangeHandler(e)},isFormValid:this.state.isFormValid,errorMessageTeg:this.state.input.errorMessageTeg,errorMessageData:this.state.input.errorMessageData,errorMessageHttp:this.state.input.errorMessageHttp,state:this.props.state}),this.props.state.loading?Object(I.jsx)(x,{onClick:this.clickLoad,type:"load",disabled:!0,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(I.jsx)(x,{onClick:this.clickLoad,type:"load",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(I.jsx)(x,{onClick:this.clickClear,type:"clear",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),this.props.state.group?Object(I.jsx)(x,{onClick:this.props.groupImages,type:"group",children:"\u0420\u0430\u0437\u0433\u0440\u0443\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}):Object(I.jsx)(x,{onClick:this.props.groupImages,type:"group",children:"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})})}}]),a}(r.Component),S=a(26),B=a.n(S),M=a(12),F=a.n(M),T=function(t){Object(d.a)(a,t);var e=Object(m.a)(a);function a(){return Object(p.a)(this,a),e.apply(this,arguments)}return Object(g.a)(a,[{key:"renderImg",value:function(){var t=this;return this.props.src.map((function(e,a){return Object(I.jsx)("img",{onClick:t.props.onClick,className:F.a.ImageItem,src:e},a)}))}},{key:"render",value:function(){return Object(I.jsx)("div",{className:F.a.ImageTwo,children:this.renderImg()})}}]),a}(r.Component),G=a(13),V=a.n(G);var w=function(t){return t.teg.map((function(e,a){return Object(I.jsxs)("div",{className:V.a.ImageGroup,children:[Object(I.jsx)("h1",{children:e}),Object(I.jsx)("div",{className:V.a.ImageGrid,children:t.src.map((function(t){return Object(I.jsx)(T,{src:t.url},"index"+t.url)}))})]},"image"+a)}))},D=function(t){Object(d.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(p.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))).state={images:[],imagesGroup:[],loading:!1,group:!1,data:!0,httpError:!1,inputValueClick:"",clickImage:!1},t.onClickImage=function(e){t.setState({inputValueClick:e,clickImage:!0})},t.loadImages=function(e){var a="",r=[];t.setState({loading:!0});var n=e.split(","),s=[];if("delay"===e)try{var i=setInterval(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.get("https://api.giphy.com/v1/gifs/random?api_key=gTJAO48YcpmrADUyo4opy4ES4g7iDBxx");case 2:return a=r.sent,s=[].concat(Object(u.a)(t.state.images),[{url:[a.data.data.image_url],teg:e}]),r.next=6,t.setState({images:s,data:!0});case 6:case"end":return r.stop()}}),r)}))),500);setTimeout((function(){clearInterval(i),t.setState({loading:!1})}),5e3)}catch(o){console.log(o),t.setState({httpError:!0,loading:!1})}else try{if(n.map(function(){var e=Object(l.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.giphy.com/v1/gifs/random?api_key=gTJAO48YcpmrADUyo4opy4ES4g7iDBxx&tag=".concat(n));case 2:a=e.sent,r.push(a.data.data.image_url),void 0===r[0]?(s=[],t.setState({data:!1,loading:!1,images:s})):t.setState({loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!t.state.data)return null;s=[].concat(Object(u.a)(t.state.images),[{url:r,teg:n}]),t.setState({images:s,data:!0})}catch(o){console.log(o),t.setState({httpError:!0,loading:!1})}},t.groupImage=function(){if(!1===t.state.group){var e=t.state.images.reduce((function(t,e){return t[e.teg]=t[e.teg]||[],t[e.teg].push(e),t}),Object.create(null));t.setState({group:!0,imagesGroup:e})}else t.setState({group:!1})},t.clearBoard=function(){t.setState({images:[],imagesGroup:[],loading:!1,group:!1})},t.renderImages=function(){return!1===t.state.group?Object(I.jsx)("div",{className:B.a.ImageList,children:t.state.images.map((function(e,a){return Object(I.jsx)(T,{data:t.state.data,src:e.url,teg:e.teg,onClick:function(){return t.onClickImage(e.teg)}},a)}))}):!0===t.state.group?Object.keys(t.state.imagesGroup).map((function(e,a){var r=[];r.push(e);var n=t.state.imagesGroup[e];return Object(I.jsx)(w,{src:n,teg:r},a)})):void 0},t}return Object(g.a)(a,[{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(y,{state:this.state,loadImages:this.loadImages,clearBoard:this.clearBoard,groupImages:this.groupImage}),this.renderImages()]})}}]),a}(r.Component);var A=function(){return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)("h2",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433 \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u0435\u0433\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e, \u0434\u043b\u044f \u0432\u044b\u0432\u043e\u0434\u044b \u0434\u0435\u0441\u044f\u0442\u0438 \u0440\u0430\u043d\u0434\u043e\u043c\u043d\u044b\u0445 \u0433\u0438\u0444\u043e\u043a \u0432\u0432\u0435\u0434\u0438\u0442\u0435 'delay'"}),Object(I.jsx)(D,{})]})},H=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,s=e.getLCP,i=e.getTTFB;a(t),r(t),n(t),s(t),i(t)}))};i.a.render(Object(I.jsx)(n.a.StrictMode,{children:Object(I.jsx)(A,{})}),document.getElementById("root")),H()}},[[53,1,2]]]);
//# sourceMappingURL=main.16845c9b.chunk.js.map